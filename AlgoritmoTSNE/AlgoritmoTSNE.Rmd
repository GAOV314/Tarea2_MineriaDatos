---
title: "AlgoritnoTSNE"
author: "Tarea2Algoritmo"
date: "`r Sys.Date()`"
output: html_document
---

---
title: "Implementación de t-Distributed Stochastic Neighbor Embedding (t-SNE)"
author: "Gadiel Ocaña"
date: "13 de febrero de 2026"
output: html_document
---

# 1. Selección del Conjunto de Datos
Para la aplicación del algoritmo **t-SNE**, se ha seleccionado el conjunto de datos **Breast Cancer Wisconsin (Diagnostic)**, cargado desde el archivo `data.csv`. Este dataset contiene variables numéricas que describen características de núcleos celulares. Es un escenario ideal para t-SNE, ya que permite evaluar si una técnica no lineal puede agrupar tumores benignos y malignos basándose únicamente en la similitud de sus atributos físicos, sin conocer la etiqueta de antemano.

# 2. Implementación del Algoritmo
En este bloque se preparan las librerías, se cargan los datos locales y se realiza el preprocesamiento. El escalamiento de los datos es un paso crítico, ya que t-SNE calcula distancias euclidianas y es sensible a las diferentes escalas de las variables.

```{r carga_y_preprocesamiento, message=FALSE, warning=FALSE}
# Forzar instalación si falla la carga
if (!require("Rtsne", quietly = TRUE)) {
    install.packages("Rtsne", repos = "[http://cran.us.r-project.org](http://cran.us.r-project.org)")
}
if (!require("tidyverse", quietly = TRUE)) {
    install.packages("tidyverse", repos = "[http://cran.us.r-project.org](http://cran.us.r-project.org)")
}

library(Rtsne)
library(tidyverse)

# Carga del dataset local
datos_bc <- read.csv("data.csv")

# Preprocesamiento: 
# 1. Extraemos la etiqueta de diagnóstico (columna 2)
# 2. Eliminamos columnas no numéricas (como ID y diagnosis)
etiquetas <- datos_bc$diagnosis
caracteristicas <- datos_bc %>% 
  select_if(is.numeric) %>%
  select(-matches("id")) # Eliminar ID si existe como numérico

# Escalamiento de datos (Normalización Z-score)
datos_escalados <- scale(as.matrix(caracteristicas))

set.seed(314)
# Ejecución del algoritmo t-SNE
tsne_modelo <- Rtsne(datos_escalados, 
                     dims = 2, 
                     perplexity = 30, 
                     check_duplicates = FALSE, 
                     verbose = FALSE)

# Creación de dataframe para graficar
df_plot <- data.frame(
  Dim1 = tsne_modelo$Y[,1],
  Dim2 = tsne_modelo$Y[,2],
  Diagnostico = etiquetas
)

# Generación del gráfico con ggplot2
ggplot(df_plot, aes(x = Dim1, y = Dim2, color = Diagnostico)) +
  geom_point(alpha = 0.7, size = 2) +
  scale_color_manual(values = c("B" = "#2ecc71", "M" = "#e74c3c"),
                     labels = c("Benigno", "Maligno")) +
  labs(title = "Visualización t-SNE: Agrupamiento Celular (Cáncer de Mama)",
       x = "Dimensión t-SNE 1", 
       y = "Dimensión t-SNE 2",
       color = "Diagnóstico Real") +
  theme_minimal()